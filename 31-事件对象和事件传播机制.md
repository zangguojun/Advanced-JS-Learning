## 事件对象

### MouseEvent：鼠标事件对象

```js
box.onclick = function bc(ev) {
  console.log(ev);
}
```

> `type`：事件类型，如click
>
> `target`：事件源，触发的元素srcElement
>
> `clientX/clientY`：当前鼠标触发点距离当前窗口左上角的X/Y轴坐标
>
> `pageX/pageY`：当前鼠标触发点距离当前页面的BODY左上角的X/Y轴坐标，不兼容IE低版本浏览器
>
> `preventDefault()`：阻止默认行为 兼容处理`ev.returnValue=false`
>
> > ```js
> > link.onclick = function (ev) {
> >   ev.preventDefault()
> > }
> > ```
> >
> > **默认行为**，大多数天生具备一些默认的行为
> >
> > 1. A标签我们点击发时候会实现页面的跳转（`<a href="javascript:;"></a>`）
> > 2. 文本输入的时候可以输入内容
> > 3. 部分情况下文本框会存在输入记忆
> > 4. 单击鼠标右键出现右键菜单
>
> `stopPropagation()`：阻止冒泡传播 兼容处理`ev.cancelBubble=true`
>
> > **事件传播机制**
> >
> > `DOM0`事件绑定，绑定的方法都是在**目标和冒泡**阶段执行
> >
> > `DOM2`事件绑定，绑定的方法还可以在**捕获**阶段执行，如`xxx.addEventListener(‘xxx’, xxx, true) 目标和捕获阶段执行`，其中如果为`false`则是在冒泡阶段执行
> >
> > 1. `NONE: 0`
> > 2. `CAPTURING_PHASE: 1`：捕获阶段
> > 3. `AT_TARGET: 2`：目标阶段
> > 4. `BUBBLING_PHASE: 3`：冒泡阶段
> >
> > **捕获阶段**
> >
> > `=> window => documnet => html => body => outer => inner`
> >
> > **目标阶段**
> >
> >  `=> center`
> >
> > **冒泡阶段**
> >
> > `=> inner => outer => body => html => document => window`
> >
> > ```html
> > <style>
> >   #outer {
> >     width: 300px;
> >     height: 300px;
> >     background-color: red;
> >   }
> > 
> >   #inner {
> >     margin: auto;
> >     width: 200px;
> >     height: 200px;
> >     background-color: green;
> >   }
> > 
> >   #center {
> >     margin: auto;
> >     width: 100px;
> >     height: 100px;
> >     background-color: blue;
> >   }
> > </style>
> > <div id="outer">
> >   <div id="inner">
> >     <div id="center"></div>
> >   </div>
> > </div>
> > 
> > <script>
> >   document.body.onclick = function (ev) {
> >     console.log('body', ev);
> >   }
> >   outer.onclick = function (ev) {
> >     console.log('outer', ev);
> >   }
> >   inner.onclick = function (ev) {
> >     console.log('inner', ev);
> >   }
> >   center.onclick = function (ev) {
> >     console.log('center', ev);
> >   }
> > </script>
> > ```
> >
> > 点击`center`盒子，会执行四个方法，每个方法中都有`ev`事件对象，**此时的四个对象是同一个事件对象**。**事件对象和作为参数在哪个方法中出现没有任何关系**，事件对象是用来记录当前操作的相关信息的，**也就是操作一次记录一次**，此时不论在哪获取的`ev`都是记录本次操作的信息，除非重新操作，那么上一次信息就没有了，`ev`存储的是最新的操作
>
> -----
>
> ---
>
> `mouseover`：**鼠标从元素经过**
>
> `mouseout`：**鼠标从元素移开**
>
> > + **存在冒泡传播机制**
> > + 鼠标是不是在盒子上，在盒子上属于`over`，不在就属于`out`
> >
> > **分析一个案例**
> >
> > ```html
> > <style>
> >   #outer1 {
> >     width: 300px;
> >     height: 300px;
> >     background-color: red;
> >   }
> > 
> >   #inner1 {
> >     position: relative;
> >     top: 50px;
> >     left: 50px;
> >     width: 200px;
> >     height: 200px;
> >     background-color: green;
> >   }
> > </style>
> > 
> > <div id="outer1">
> >   <div id="inner1"></div>
> > </div>
> > 
> > <script>
> >   document.body.onmouseover = function () {
> >     console.log('body over');
> >   }
> >   outer1.onmouseover = function () {
> >     console.log('outer1 over');
> >   }
> >   inner1.onmouseover = function () {
> >     console.log('inner1 over');
> >   }
> > 
> >   document.body.onmouseout = function () {
> >     console.log('body out');
> >   }
> >   outer1.onmouseout = function () {
> >     console.log('outer1 out');
> >   }
> >   inner1.onmouseout = function () {
> >     console.log('inner1 out');
> >   }
> > </script>
> > ```
> >
> > **划入`body`**：会触发`body`的`over`事件
> >
> > **划入`大盒子`**：首先触发`body`的`out`事件，然后触发`outer`的`over`事件，由于事件冒泡，也会触发`body`的`over`事件
> >
> > **划入`小盒子`**：会触发`outer`的`out`事件，由于事件冒泡，也触发`body`的`out`事件，然后触发`inner`的`over`事件，由于事件冒泡，也会触发`outer`的`over`事件，`body`的`over`事件
> >
> > **划出`小盒子`**：会触发`inner`的`out`事件，由于事件冒泡，也会触发`outer`的`out`事件，`body`的`out`事件，然后触发`outer`的`over`事件，由于事件冒泡，也会触发`body`的`over`事件
> >
> > **划出`大盒子`**：首先触发`outer`的`out`事件，由于事件冒泡，也会触发`body`的`out`事件
> >
> > **划入`body`**：会触发`body`的`out`事件
>
> -----
>
> -----
>
> `mouseenter`：**鼠标进入**
>
> `mouseleave`：**鼠标离开**
>
> > + **不存在冒泡传播机制**
> >
> > **分析一个案例**
> >
> > ```js
> > <style>
> >   #outer2 {
> >     width: 300px;
> >     height: 300px;
> >     background-color: red;
> >   }
> > 
> >   #inner2 {
> >     position: relative;
> >     top: 50px;
> >     left: 50px;
> >     width: 200px;
> >     height: 200px;
> >     background-color: green;
> >   }
> > </style>
> > 
> > <div id="outer2">
> >   <div id="inner2"></div>
> > </div>
> > 
> > <script>
> >   document.body.onmouseenter = function () {
> >     console.log('body enter');
> >   }
> >   outer2.onmouseenter = function () {
> >     console.log('outer2 enter');
> >   }
> >   inner2.onmouseenter = function () {
> >     console.log('inner2 enter');
> >   }
> > 
> >   document.body.onmouseleave = function () {
> >     console.log('body leave');
> >   }
> >   outer2.onmouseleave = function () {
> >     console.log('outer2 leave');
> >   }
> >   inner2.onmouseleave = function () {
> >     console.log('inner2 leave');
> >   }
> > </script>
> > ```
> >
> > **body enter**
> >
> > **outer1 over**
> >
> > **outer1 out**
> >
> > **body leave**



### KeyboardEvent：键盘事件对象

```js
document.onkeydown = function bc(ev) {
  console.log(ev);
}
```

> `key`：键盘码
>
> `which/keyCode`：键盘码对应的数字
>
> > 空格键：`Space、32`
> >
> > Enter键：`Enter、13`
> >
> > Shift键：`Shift、16`
> >
> > Control键：`Control、17`
> >
> > Alt键：`Alt、18`
> >
> > NumLock键：`NumLock、144`
>
> `ctrlKey`：是否同时按下`Control`
>
> `shiftKey`：是否同时按下`Shift`
>
> `altKey`：是否同时按下`Alt`



### Event：普通事件对象

```js
window.onload = function bc(ev) {
  console.log(ev);
}
```

> `window.onload`





## 手机事件对象



### TouchEvent ：手指事件

```js
box.ontouchstart = function bc(ev) {
  console.log(ev);
  let point = ev.changedTouches[0]
  console.log(point);
}
```

> `touches`：能够只能获取手指在屏幕上但是时候的信息，如果手指离开，信息就没了
>
> `changedTouches`：相对于`touches`，还能获取到手指离开前的信息，所以项目中使用`changedTouches`居多
>
> > `touches`和`changedTouches`都是一个`TouchList`对象，对于单指，他们都只有一个`Touch`对象，`Touch`对象里面有`clientX、clientY、pageX、pageY、screenX、screenY、radiusX、radiusY`等



